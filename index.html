<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Project 4</title>
</head>
<body>
    <script src='https://code.jquery.com/jquery-3.2.1.min.js' integrity='sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4='crossorigin='anonymous'></script>
    <script>

// this is where i tried to structure the request in the same way we did it in class yesteday, however it was giving a "same origin policy" error       
    const newsApp = {}
    newsApp.apiKey = "4135dcf939eb4bae959a26ff87fedc97"
    newsApp.getArticle = function(){
        $.ajax({
            url: "https://api.nytimes.com/svc/topstories/v2/home.jsonp",
            method: "GET",
            data: {
                api-key: newsApp.apiKey
            }
        }).then(res => {
            console.log("success")
        })
    }

//this section seems to produce an article, but only if it's inline in the html and not linked in a separate window. as soon we it's in a separate js doc, we get a same origin error. and then when i update it to jsonp, it's just blank. 
// this section i took directly from the nyt documentation here: https://developer.nytimes.com/top_stories_v2.json# 
    // let url = "https://api.nytimes.com/svc/topstories/v2/home.json";
    //     url += '?' + $.param({
    //             'api-key': "4135dcf939eb4bae959a26ff87fedc97"
    //         });
    //         $.ajax({
    //             url: url,
    //             method: 'GET',
    //         }).then(function (result) {
    //             console.log(result);                
    //         });


</script>
</body>
</html>